<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Associations sportives â€“ Nyons (carte par catÃ©gories)</title>
<meta name="description" content="Carte des associations sportives de Nyons avec catÃ©gories et couleurs : arts martiaux, raquettes, boules, sports co, vÃ©lo, natureâ€¦ + recherche et filtres.">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<link rel="stylesheet" href="https://unpkg.com/leaflet.awesome-markers@2.0.5/dist/leaflet.awesome-markers.css">
<style>
  body { margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; line-height:1.55; color:#1f2937; }
  header { padding: 18px 16px 6px; background:#f8fafc; border-bottom:1px solid #e5e7eb; }
  header h1 { margin:0 0 6px; font-size:22px; }
  header p { margin:4px 0; max-width:940px; }
  #toolbar { padding:10px 12px; background:#f7f7f7; border-bottom:1px solid #e6e6e6; display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
  #search { width:280px; padding:8px 10px; border:1px solid #cbd5e1; border-radius:8px; }
  #map { height: 66vh; }
  #count { font-size:14px; color:#555; margin-left:auto; }
  .filters { display:flex; flex-wrap:wrap; gap:8px 14px; }
  .legend { display:flex; flex-wrap:wrap; gap:10px 14px; padding:10px 12px; font-size:14px; border-top:1px solid #e6e6e6; background:#fafafa; }
  .legend .item { display:flex; align-items:center; gap:6px; }
  .marker-dot { display:inline-block; width:12px; height:12px; border-radius:50%; vertical-align:middle; }
  .cat { font-size:14px; }
  .leaflet-popup-content a { color:#0b66c3; text-decoration:none; }
  .leaflet-popup-content a:hover { text-decoration:underline; }
</style>
</head>
<body>
  <header>
    <h1>Associations sportives de Nyons â€“ par catÃ©gories</h1>
    <p>Les marqueurs sont colorÃ©s par type de pratique (arts martiaux, raquettes, boules, sports co, plein airâ€¦). Utilisez la recherche et les filtres pour trouver rapidement votre club. Au mÃªme endroit, les points se regroupent : cliquez pour les Â« Ã©clater Â».</p>
  </header>

  <div id="toolbar">
    <input id="search" placeholder="Rechercher (nom, discipline, adresse, contact)â€¦" />
    <div class="filters" id="filters"></div>
    <span id="count"></span>
  </div>

  <div id="map"></div>

  <div class="legend" id="legend"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  <script src="https://unpkg.com/leaflet.awesome-markers@2.0.5/dist/leaflet.awesome-markers.js"></script>
  <script>
  const data = {"type": "FeatureCollection", "features": [{"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Les Tontons Riders", "description": "Glisse urbaine & VTT (4 Seasons Bike Park : descente, enduro). â€” 4 Seasons Bike Park, 26110 Nyons â€” ğŸ“ 07 84 18 51 86 / âœ‰ï¸ tontonsriders26@gmail.com", "Nom": "Les Tontons Riders", "Adresse": "4 Seasons Bike Park, 26110 Nyons", "TÃ©lÃ©phone": "07 84 18 51 86", "Email": "tontonsriders26@gmail.com", "Site": "https://www.4seasonsbikepark.fr", "GPS_precision": "approx_centroid:nyons", "Page": 1}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "VTT Loisirs", "description": "Entretien/crÃ©ation circuits FFCT, sorties VTT. â€” Nyons et Baronnies â€” ğŸ“ 06 76 99 78 40 / âœ‰ï¸ vttnyons@sfr.fr", "Nom": "VTT Loisirs", "Adresse": "Nyons et Baronnies", "TÃ©lÃ©phone": "06 76 99 78 40", "Email": "vttnyons@sfr.fr", "Site": "http://veloclubnyons.canalblog.com/", "GPS_precision": "approx_centroid:nyons", "Page": 1}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.03611, 44.33056]}, "properties": {"name": "Ã‰changes Sports Nature", "description": "Tir Ã  lâ€™arc, parcours nature, sorties (escalade, rando, raquettes, ski de fond). â€” Terrain tir Ã  lâ€™arc â€“ RD190 direction ValrÃ©as, 26110 Vinsobres â€” ğŸ“ 06 76 02 28 77 / âœ‰ï¸ echangesportsnature@orange.fr", "Nom": "Ã‰changes Sports Nature", "Adresse": "Terrain tir Ã  lâ€™arc â€“ RD190 direction ValrÃ©as, 26110 Vinsobres", "TÃ©lÃ©phone": "06 76 02 28 77", "Email": "echangesportsnature@orange.fr", "Site": "https://echangesportsnature.wordpress.com/", "GPS_precision": "approx_centroid:vinsobres", "Page": 1}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13548, 44.3547]}, "properties": {"name": "Nyons AthlÃ©tic Club (NAC)", "description": "AthlÃ©tisme piste & cross (jeunes < 18 ans). â€” Stade Pierre Jullien, Route de Mirabel, 26110 Nyons â€” ğŸ“ 06 64 78 04 03 / âœ‰ï¸ nac26110@gmail.com", "Nom": "Nyons AthlÃ©tic Club (NAC)", "Adresse": "Stade Pierre Jullien, Route de Mirabel, 26110 Nyons", "TÃ©lÃ©phone": "06 64 78 04 03", "Email": "nac26110@gmail.com", "Site": "https://www.facebook.com/nac26110", "GPS_precision": "exact_osm_visual", "Page": 1}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13528, 44.3575]}, "properties": {"name": "Nyons AÃ¯kido", "description": "AÃ¯kido Kobayashi-Ryu ; Jodo Shindo Muso Ryu. â€” Maison des Sports / Dojo Ãle Verte / Dojo CitÃ© Scolaire, 26110 Nyons â€” ğŸ“ 06 58 76 01 32 / âœ‰ï¸ nyonsaikido@gmail.com", "Nom": "Nyons AÃ¯kido", "Adresse": "Maison des Sports / Dojo Ãle Verte / Dojo CitÃ© Scolaire, 26110 Nyons", "TÃ©lÃ©phone": "06 58 76 01 32", "Email": "nyonsaikido@gmail.com", "Site": "https://nyonsaikido.fr", "GPS_precision": "exact_osm_visual", "Page": 1}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13528, 44.3575]}, "properties": {"name": "Boxe FranÃ§aise des Baronnies", "description": "Savate & self-dÃ©fense. â€” Maison des Sports, 26 allÃ©e des Sports, 26110 Nyons â€” ğŸ“ 06 11 11 53 20 / âœ‰ï¸ leydier6@aol.com", "Nom": "Boxe FranÃ§aise des Baronnies", "Adresse": "Maison des Sports, 26 allÃ©e des Sports, 26110 Nyons", "TÃ©lÃ©phone": "06 11 11 53 20", "Email": "leydier6@aol.com", "Site": NaN, "GPS_precision": "exact_osm_visual", "Page": 1}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Les Cent Ciels", "description": "Yoga (approche douce), cours collectifs/individuels. â€” 17 place du Dr Bourdongle, 26110 Nyons â€” ğŸ“ 06 10 35 30 07 / âœ‰ï¸ rigalv26@gmail.com", "Nom": "Les Cent Ciels", "Adresse": "17 place du Dr Bourdongle, 26110 Nyons", "TÃ©lÃ©phone": "06 10 35 30 07", "Email": "rigalv26@gmail.com", "Site": NaN, "GPS_precision": "approx_centroid:nyons", "Page": 1}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Moto Club des Oliviers", "description": "Trial, Enduro, MX, Vitesse. Organisation championnat rÃ©gional de Trial. â€” 39 rue Camille BrÃ©chet, 26110 Nyons â€” ğŸ“ 06 99 16 37 78; 06 11 50 35 70 / âœ‰ï¸ motoclubdesoliviers@gmail.com; vliotaud@yahoo.fr", "Nom": "Moto Club des Oliviers", "Adresse": "39 rue Camille BrÃ©chet, 26110 Nyons", "TÃ©lÃ©phone": "06 99 16 37 78; 06 11 50 35 70", "Email": "motoclubdesoliviers@gmail.com; vliotaud@yahoo.fr", "Site": NaN, "GPS_precision": "approx_centroid:nyons", "Page": 1}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Ã‰cole Sportive de Boules Lyonnaises (ESBN)", "description": "Boules lyonnaises U9â€“U18, pratique scolaire. â€” Centre rÃ©gional de boule sportive & pÃ©tanque, 125 rue FÃ©lix Maurent, 26110 Nyons â€” ğŸ“ 06 79 64 21 73 / âœ‰ï¸ usbn.nyons@gmail.com", "Nom": "Ã‰cole Sportive de Boules Lyonnaises (ESBN)", "Adresse": "Centre rÃ©gional de boule sportive & pÃ©tanque, 125 rue FÃ©lix Maurent, 26110 Nyons", "TÃ©lÃ©phone": "06 79 64 21 73", "Email": "usbn.nyons@gmail.com", "Site": NaN, "GPS_precision": "approx_centroid:nyons", "Page": 2}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Association Sportive Rallye Auto Nyonsaise", "description": "Accompagnement et suivi de pilotes rallye auto. â€” 105 impasse des Cannes, 26110 Nyons â€” ğŸ“ 06 08 06 67 37 / âœ‰ï¸ cfarnier@aol.fr", "Nom": "Association Sportive Rallye Auto Nyonsaise", "Adresse": "105 impasse des Cannes, 26110 Nyons", "TÃ©lÃ©phone": "06 08 06 67 37", "Email": "cfarnier@aol.fr", "Site": NaN, "GPS_precision": "approx_centroid:nyons", "Page": 2}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13528, 44.3575]}, "properties": {"name": "Basket Club Nyonsais", "description": "Ã‰cole de basket, compÃ©titions (dÃ©partemental & rÃ©gional). â€” Maison des Sports, 26 allÃ©e des Sports, 26110 Nyons â€” ğŸ“ 06 82 84 04 50 / âœ‰ï¸ communications.nyonsbc@gmail.com", "Nom": "Basket Club Nyonsais", "Adresse": "Maison des Sports, 26 allÃ©e des Sports, 26110 Nyons", "TÃ©lÃ©phone": "06 82 84 04 50", "Email": "communications.nyonsbc@gmail.com", "Site": "https://www.nyonsbasket.com", "GPS_precision": "exact_osm_visual", "Page": 2}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [4.946, 44.308]}, "properties": {"name": "Club Alpin FranÃ§ais de Nyons", "description": "Rando, raquettes, canyoning, VTT, ski rando nordique. â€” 650 chemin de lâ€™ArgentiÃ¨re, 84820 Visan â€” ğŸ“ 06 88 78 30 13 / âœ‰ï¸ peyrouse@free.fr", "Nom": "Club Alpin FranÃ§ais de Nyons", "Adresse": "650 chemin de lâ€™ArgentiÃ¨re, 84820 Visan", "TÃ©lÃ©phone": "06 88 78 30 13", "Email": "peyrouse@free.fr", "Site": "http://cafavignon.ffcam.fr", "GPS_precision": "approx_centroid:visan", "Page": 2}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Les Cyclotouristes Nyonsais", "description": "Sorties hebdomadaires, RandonnÃ©es des Oliviers, sÃ©jours. â€” Nyons & environs â€” ğŸ“ 07 70 00 83 95 / âœ‰ï¸ paulvanliebergen@gmail.com", "Nom": "Les Cyclotouristes Nyonsais", "Adresse": "Nyons & environs", "TÃ©lÃ©phone": "07 70 00 83 95", "Email": "paulvanliebergen@gmail.com", "Site": "https://cyclosnyonsais.wixsite.com/accueil", "GPS_precision": "approx_centroid:nyons", "Page": 2}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Ã‰cole des Jeunes Sapeurs Pompiers", "description": "Formation incendie, secours aux personnes, activitÃ©s sportives. â€” Centre de secours, 495 rue Claude Floret, 26110 Nyons â€” ğŸ“ 06 82 05 74 20 / âœ‰ï¸ baptiste.jutge@sdis26.fr", "Nom": "Ã‰cole des Jeunes Sapeurs Pompiers", "Adresse": "Centre de secours, 495 rue Claude Floret, 26110 Nyons", "TÃ©lÃ©phone": "06 82 05 74 20", "Email": "baptiste.jutge@sdis26.fr", "Site": NaN, "GPS_precision": "approx_centroid:nyons", "Page": 2}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13528, 44.3575]}, "properties": {"name": "KaratÃ© Shotokan Club de Nyons", "description": "KaratÃ© : cours, compÃ©titions, stages. â€” Maison des Sports / Ãle Verte, 26110 Nyons â€” ğŸ“ 06 79 81 85 79 / âœ‰ï¸ kscnyons26@gmail.com", "Nom": "KaratÃ© Shotokan Club de Nyons", "Adresse": "Maison des Sports / Ãle Verte, 26110 Nyons", "TÃ©lÃ©phone": "06 79 81 85 79", "Email": "kscnyons26@gmail.com", "Site": "http://kscnyons.blogspot.com", "GPS_precision": "exact_osm_visual", "Page": 2}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13528, 44.3575]}, "properties": {"name": "Lâ€™Ã‰tincelle", "description": "Hatha Yoga. â€” Maison des Sports, 26 allÃ©e des Sports, 26110 Nyons â€” ğŸ“ 04 75 26 16 20; 07 86 67 22 03", "Nom": "Lâ€™Ã‰tincelle", "Adresse": "Maison des Sports, 26 allÃ©e des Sports, 26110 Nyons", "TÃ©lÃ©phone": "04 75 26 16 20; 07 86 67 22 03", "Email": NaN, "Site": NaN, "GPS_precision": "exact_osm_visual", "Page": 2}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.367, 44.433]}, "properties": {"name": "La Gaule de l'Eygues et de l'Oule", "description": "Association de pÃªche, gestion et protection des milieux aquatiques. â€” La Combe, 26510 RÃ©muzat â€” ğŸ“ 06 83 21 94 59 / âœ‰ï¸ aappmagauledeleyguesetdeloule@gmail.com; o.salin@orange.fr", "Nom": "La Gaule de l'Eygues et de l'Oule", "Adresse": "La Combe, 26510 RÃ©muzat", "TÃ©lÃ©phone": "06 83 21 94 59", "Email": "aappmagauledeleyguesetdeloule@gmail.com; o.salin@orange.fr", "Site": "gauledeleygues.canalblog.com; Facebook", "GPS_precision": "approx_centroid:rÃ©muzat", "Page": 3}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.1313, 44.35705]}, "properties": {"name": "L'Ile Verte - Bulle d'OxygÃ¨ne", "description": "Cours collectifs, forme & bien-Ãªtre. â€” 1 avenue FrÃ©dÃ©ric Mistral, 26110 Nyons â€” ğŸ“ 06 83 84 76 69 / âœ‰ï¸ ileverte.sport@gmail.com", "Nom": "L'Ile Verte - Bulle d'OxygÃ¨ne", "Adresse": "1 avenue FrÃ©dÃ©ric Mistral, 26110 Nyons", "TÃ©lÃ©phone": "06 83 84 76 69", "Email": "ileverte.sport@gmail.com", "Site": "www.ile-verte.fr; Facebook", "GPS_precision": "exact_osm_visual", "Page": 3}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.14032, 44.35895]}, "properties": {"name": "Les Ailes des Baronnies", "description": "Vol libre, biplaces associatifs, rencontres autour du 1er avril. â€” 122 promenade de la Digue, 26110 Nyons â€” ğŸ“ 06 63 23 84 83 / âœ‰ï¸ ailesdesbaronnies@gmail.com", "Nom": "Les Ailes des Baronnies", "Adresse": "122 promenade de la Digue, 26110 Nyons", "TÃ©lÃ©phone": "06 63 23 84 83", "Email": "ailesdesbaronnies@gmail.com", "Site": "ailesdesbaronnies.fr; Facebook", "GPS_precision": "exact_osm_visual", "Page": 3}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13548, 44.3547]}, "properties": {"name": "Nyons Football Club", "description": "Ã‰cole de foot (U6â†’Seniors), District Grand Vaucluse. â€” Stade Pierre Jullien, Route de Mirabel, 26110 Nyons â€” ğŸ“ 06 40 58 86 75 / âœ‰ï¸ nyonsfoot@gmail.com", "Nom": "Nyons Football Club", "Adresse": "Stade Pierre Jullien, Route de Mirabel, 26110 Nyons", "TÃ©lÃ©phone": "06 40 58 86 75", "Email": "nyonsfoot@gmail.com", "Site": "Facebook", "GPS_precision": "exact_osm_visual", "Page": 3}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.1498, 44.3556]}, "properties": {"name": "Nyons PÃ©tanque", "description": "PÃ©tanque & jeu provenÃ§al. â€” Centre rÃ©gional boules & pÃ©tanque, 125 rue FÃ©lix Maurent, 26110 Nyons â€” ğŸ“ 06 70 42 19 21 / âœ‰ï¸ cl26-3007@francepetanque.com", "Nom": "Nyons PÃ©tanque", "Adresse": "Centre rÃ©gional boules & pÃ©tanque, 125 rue FÃ©lix Maurent, 26110 Nyons", "TÃ©lÃ©phone": "06 70 42 19 21", "Email": "cl26-3007@francepetanque.com", "Site": "www.nyons-petanque.com; Facebook", "GPS_precision": "exact_osm_visual", "Page": 3}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Ski Club Nyonsais", "description": "Ski & surf : sorties et sÃ©jours (Joue du Loup, Puy St-Vincent, 3 VallÃ©es). â€” Nyons â€” ğŸ“ 06 82 86 09 12 / âœ‰ï¸ ski-club-nyonsais@orange.fr", "Nom": "Ski Club Nyonsais", "Adresse": "Nyons", "TÃ©lÃ©phone": "06 82 86 09 12", "Email": "ski-club-nyonsais@orange.fr", "Site": "skiclubnyonsais.fr; Facebook", "GPS_precision": "approx_centroid:nyons", "Page": 3}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.1414, 44.3701]}, "properties": {"name": "SociÃ©tÃ© Nyonsaise de Tir", "description": "Tir sportif (stand du Pontias). â€” Col du Pontias, 26110 Nyons â€” ğŸ“ 06 84 22 65 44 / âœ‰ï¸ alain.bertona@wanadoo.fr", "Nom": "SociÃ©tÃ© Nyonsaise de Tir", "Adresse": "Col du Pontias, 26110 Nyons", "TÃ©lÃ©phone": "06 84 22 65 44", "Email": "alain.bertona@wanadoo.fr", "Site": NaN, "GPS_precision": "exact_osm_visual", "Page": 3}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.14032, 44.35895]}, "properties": {"name": "Tennis Club de Nyons", "description": "Tennis & padel, tournois, Ã©quipes. â€” Promenade de la Digue, 26110 Nyons â€” âœ‰ï¸ contact@tcnyons.fr", "Nom": "Tennis Club de Nyons", "Adresse": "Promenade de la Digue, 26110 Nyons", "TÃ©lÃ©phone": NaN, "Email": "contact@tcnyons.fr", "Site": "tcnyons.fr; Facebook", "GPS_precision": "exact_osm_visual", "Page": 3}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.1498, 44.3556]}, "properties": {"name": "Union Sportive Bouliste Nyonsaise (USBN)", "description": "Boules lyonnaises, dÃ©couverte & compÃ©titions. â€” Centre rÃ©gional boules & pÃ©tanque, 125 rue FÃ©lix Maurent, 26110 Nyons â€” ğŸ“ 06 32 54 29 12 / âœ‰ï¸ usbn.nyons@gmail.com", "Nom": "Union Sportive Bouliste Nyonsaise (USBN)", "Adresse": "Centre rÃ©gional boules & pÃ©tanque, 125 rue FÃ©lix Maurent, 26110 Nyons", "TÃ©lÃ©phone": "06 32 54 29 12", "Email": "usbn.nyons@gmail.com", "Site": NaN, "GPS_precision": "exact_osm_visual", "Page": 4}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "VÃ©lo Club Nyonsais", "description": "VÃ©lo route & VTT. â€” Nyons â€” ğŸ“ 06 76 99 78 40 / âœ‰ï¸ vcn26@orange.fr", "Nom": "VÃ©lo Club Nyonsais", "Adresse": "Nyons", "TÃ©lÃ©phone": "06 76 99 78 40", "Email": "vcn26@orange.fr", "Site": "veloclubnyons.canalblog.com", "GPS_precision": "approx_centroid:nyons", "Page": 4}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13528, 44.3575]}, "properties": {"name": "Volley Club de l'Eygues", "description": "Volley loisir & compÃ©titions locales. â€” Gymnase de la CitÃ© Scolaire, 26110 Nyons â€” ğŸ“ 06 70 26 24 52; 04 75 26 33 62 / âœ‰ï¸ dgalland26@orange.fr; morin.daniel26110@gmail.com", "Nom": "Volley Club de l'Eygues", "Adresse": "Gymnase de la CitÃ© Scolaire, 26110 Nyons", "TÃ©lÃ©phone": "06 70 26 24 52; 04 75 26 33 62", "Email": "dgalland26@orange.fr; morin.daniel26110@gmail.com", "Site": NaN, "GPS_precision": "exact_osm_visual", "Page": 4}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.1313, 44.35705]}, "properties": {"name": "Le Zen (Judo)", "description": "Judo (loisir & compÃ©tition). â€” Ãle Verte, 1 av. FrÃ©dÃ©ric Mistral, 26110 Nyons â€” ğŸ“ 06 75 39 00 66 / âœ‰ï¸ lezen.judo@gmail.com", "Nom": "Le Zen (Judo)", "Adresse": "Ãle Verte, 1 av. FrÃ©dÃ©ric Mistral, 26110 Nyons", "TÃ©lÃ©phone": "06 75 39 00 66", "Email": "lezen.judo@gmail.com", "Site": "www.ile-verte.fr", "GPS_precision": "exact_osm_visual", "Page": 4}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Baronnies Budo Wa-Jutsu Club de Nyons", "description": "Wa-Jutsu (ju-jutsu traditionnel) non compÃ©titif. â€” Gymnase de la CitÃ© Scolaire, 26110 Nyons â€” ğŸ“ 06 23 28 73 57 / âœ‰ï¸ wajutsu.nyons@gmail.com", "Nom": "Baronnies Budo Wa-Jutsu Club de Nyons", "Adresse": "Gymnase de la CitÃ© Scolaire, 26110 Nyons", "TÃ©lÃ©phone": "06 23 28 73 57", "Email": "wajutsu.nyons@gmail.com", "Site": "Facebook", "GPS_precision": "approx_centroid:nyons", "Page": 4}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Lei CaminaÃ¯re en Baronnies", "description": "RandonnÃ©e, marche nordique, sÃ©jours; parfois raquettes. â€” 116 rue des Baronnies, 26110 Nyons â€” ğŸ“ 04 75 26 01 25; 06 71 37 44 90 / âœ‰ï¸ caminaire.nyons@gmail.com", "Nom": "Lei CaminaÃ¯re en Baronnies", "Adresse": "116 rue des Baronnies, 26110 Nyons", "TÃ©lÃ©phone": "04 75 26 01 25; 06 71 37 44 90", "Email": "caminaire.nyons@gmail.com", "Site": "leicaminaire-en-baronnies.fr", "GPS_precision": "approx_centroid:nyons", "Page": 4}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Courir Ã  Nyons", "description": "Course Ã  pied, trail, marche nordique. â€” Nyons â€” ğŸ“ 06 87 68 38 51 / âœ‰ï¸ couriranyons@gmail.com", "Nom": "Courir Ã  Nyons", "Adresse": "Nyons", "TÃ©lÃ©phone": "06 87 68 38 51", "Email": "couriranyons@gmail.com", "Site": "www.couriranyons.fr; Facebook", "GPS_precision": "approx_centroid:nyons", "Page": 4}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13528, 44.3575]}, "properties": {"name": "Associations Sportives du CollÃ¨ge Barjavel et du LycÃ©e Roumanille (UNSS)", "description": "UNSS : entretien, escalade, badminton, VTT, hand, basket, volley, tennis de table. â€” Gymnases de la CitÃ© Scolaire & Maison des Sports, 26110 Nyons â€” ğŸ“ 04 75 26 51 00", "Nom": "Associations Sportives du CollÃ¨ge Barjavel et du LycÃ©e Roumanille (UNSS)", "Adresse": "Gymnases de la CitÃ© Scolaire & Maison des Sports, 26110 Nyons", "TÃ©lÃ©phone": "04 75 26 51 00", "Email": NaN, "Site": NaN, "GPS_precision": "exact_osm_visual", "Page": 4}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13528, 44.3575]}, "properties": {"name": "Bad Nyons", "description": "Badminton loisir. â€” Maison des Sports, 26 allÃ©e des Sports, 26110 Nyons â€” ğŸ“ 06 84 61 19 03 / âœ‰ï¸ badnyons@gmail.com", "Nom": "Bad Nyons", "Adresse": "Maison des Sports, 26 allÃ©e des Sports, 26110 Nyons", "TÃ©lÃ©phone": "06 84 61 19 03", "Email": "badnyons@gmail.com", "Site": "Facebook", "GPS_precision": "exact_osm_visual", "Page": 5}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Sport Ã‰vasion", "description": "VÃ©lo/VAE, marche nordique, rando, escalade, canyon, canoÃ«-kayak; entretien physique. â€” Le Camp de Base, 25 av. Henri Rochier, 26110 Nyons â€” ğŸ“ 06 14 82 49 74 / âœ‰ï¸ sportsevasion26@yahoo.fr", "Nom": "Sport Ã‰vasion", "Adresse": "Le Camp de Base, 25 av. Henri Rochier, 26110 Nyons", "TÃ©lÃ©phone": "06 14 82 49 74", "Email": "sportsevasion26@yahoo.fr", "Site": "ecyclo.fr; Facebook", "GPS_precision": "approx_centroid:nyons", "Page": 5}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13333, 44.36667]}, "properties": {"name": "Shiatsu-Antei Do", "description": "Pratique et promotion du Shiatsu. â€” 52 bis rue des Antignans, 26110 Nyons â€” ğŸ“ 06 75 81 90 79 / âœ‰ï¸ shiatsuanteido@gmail.com", "Nom": "Shiatsu-Antei Do", "Adresse": "52 bis rue des Antignans, 26110 Nyons", "TÃ©lÃ©phone": "06 75 81 90 79", "Email": "shiatsuanteido@gmail.com", "Site": NaN, "GPS_precision": "approx_centroid:nyons", "Page": 5}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.1313, 44.35705]}, "properties": {"name": "Krav Maga des Baronnies", "description": "Self-dÃ©fense (krav maga). â€” Ãle Verte (Nyons) & Salle polyvalente (Venterol) â€” ğŸ“ 07 61 60 67 34 / âœ‰ï¸ morgan.caillet@yahoo.fr", "Nom": "Krav Maga des Baronnies", "Adresse": "Ãle Verte (Nyons) & Salle polyvalente (Venterol)", "TÃ©lÃ©phone": "07 61 60 67 34", "Email": "morgan.caillet@yahoo.fr", "Site": "Facebook", "GPS_precision": "exact_osm_visual", "Page": 5}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13528, 44.3575]}, "properties": {"name": "Baronnies DÃ©fense Urbaine", "description": "Self-dÃ©fense mÃªlant divers sports de combat et arts martiaux. â€” Salle Polyvalente d'Aubres ; Maison des Sports (Nyons) â€” ğŸ“ 06 29 16 26 22 / âœ‰ï¸ bdu26110@gmail.com", "Nom": "Baronnies DÃ©fense Urbaine", "Adresse": "Salle Polyvalente d'Aubres ; Maison des Sports (Nyons)", "TÃ©lÃ©phone": "06 29 16 26 22", "Email": "bdu26110@gmail.com", "Site": "Facebook", "GPS_precision": "exact_osm_visual", "Page": 5}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.13528, 44.3575]}, "properties": {"name": "Hapkido Nyons (HKDN)", "description": "Art martial orientÃ© autodÃ©fense. â€” Maison des Sports, 26 allÃ©e des Sports, 26110 Nyons â€” ğŸ“ 06 80 00 70 80 / âœ‰ï¸ hapkido.nyons@icloud.com", "Nom": "Hapkido Nyons (HKDN)", "Adresse": "Maison des Sports, 26 allÃ©e des Sports, 26110 Nyons", "TÃ©lÃ©phone": "06 80 00 70 80", "Email": "hapkido.nyons@icloud.com", "Site": NaN, "GPS_precision": "exact_osm_visual", "Page": 5}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.1313, 44.35705]}, "properties": {"name": "Akwamouv' Club", "description": "ActivitÃ©s aquatiques, remise en forme. â€” Nyons", "Nom": "Akwamouv' Club", "Adresse": "Nyons", "TÃ©lÃ©phone": NaN, "Email": NaN, "Site": NaN, "GPS_precision": "exact_osm_visual", "Page": 5}}, {"type": "Feature", "geometry": {"type": "Point", "coordinates": [5.1313, 44.35705]}, "properties": {"name": "Envy Sport DrÃ´me - Pilates - Yoga Iyengar - Air Boxe Self Defense", "description": "Pilates, Yoga Iyengar, Air Boxe, Self Defense. â€” Nyons", "Nom": "Envy Sport DrÃ´me - Pilates - Yoga Iyengar - Air Boxe Self Defense", "Adresse": "Nyons", "TÃ©lÃ©phone": NaN, "Email": NaN, "Site": NaN, "GPS_precision": "exact_osm_visual", "Page": 5}}]};

  // --- CatÃ©gorisation par expressions rÃ©guliÃ¨res ---
  function categoryFor(p) {
    const t = (p.Nom + ' ' + (p.description||'') + ' ' + (p.Adresse||'') + ' ' + (p.Site||'')).toLowerCase();
    const rules = [
      ["Arts martiaux", /(a[iÃ¯]kido|karat[eÃ©]|judo|krav|wa-?jutsu|budo|hapkido)/],
      ["Sports de raquette", /(tennis|padel|badminton)/],
      ["Boules / PÃ©tanque", /(p[Ã©e]tanque|boule|boulist)/],
      ["Basket-ball", /basket/],
      ["Volley-ball", /volley/],
      ["Football", /(football|\bfc\b|foot\b)/],
      ["Tir sportif", /\btir\b|pontias|stand/],
      ["Ski / Neige", /\bsk[iy]\b|station|neige|puy|joue du loup/],
      ["Cyclo / VTT", /(\bvt+t?\b|cyclo|v[Ã©e]lo)/],
      ["Course / Rando", /(trail|course|courir|randonn[Ã©e]e|marche nordique)/],
      ["Bien-Ãªtre", /(yoga|pilates|shiatsu|forme|bulle d'oxyg[eÃ¨]ne)/],
      ["Sport auto / moto", /(rallye|moto|enduro|trial)/],
      ["PÃªche", /(aappma|p[Ãªe]che|eygues|oule)/],
      ["AÃ©rien", /(vol libre|parapente|ailes)/],
      ["Multi-activitÃ©s", /(sport [eÃ©]vasion|multi|unss)/]
    ];
    for (const [label, re] of rules) {
      if (re.test(t)) return label;
    }
    return "Autres";
  }

  // --- Couleurs & icÃ´nes par catÃ©gorie (AwesomeMarkers + Font Awesome) ---
  const catStyles = {
    "Arts martiaux":      { color:"red",        icon:"user-ninja" },
    "Sports de raquette": { color:"blue",       icon:"table-tennis-paddle-ball" },
    "Boules / PÃ©tanque":  { color:"darkpurple", icon:"circle" },
    "Basket-ball":        { color:"orange",     icon:"basketball" },
    "Volley-ball":        { color:"orange",     icon:"volleyball" },
    "Football":           { color:"green",      icon:"futbol" },
    "Tir sportif":        { color:"purple",     icon:"bullseye" },
    "Ski / Neige":        { color:"cadetblue",  icon:"snowflake" },
    "Cyclo / VTT":        { color:"darkgreen",  icon:"bicycle" },
    "Course / Rando":     { color:"green",      icon:"person-running" },
    "Bien-Ãªtre":          { color:"darkred",    icon:"leaf" },
    "Sport auto / moto":  { color:"black",      icon:"motorcycle" },
    "PÃªche":              { color:"cadetblue",  icon:"fish" },
    "AÃ©rien":             { color:"purple",     icon:"wind" },
    "Multi-activitÃ©s":    { color:"blue",       icon:"star" },
    "Autres":             { color:"gray",       icon:"map-marker-alt" }
  };

  function iconForCategory(cat) {
    const s = catStyles[cat] || catStyles["Autres"];
    return L.AwesomeMarkers.icon({
      icon: s.icon,
      prefix: 'fa',
      markerColor: s.color,
      extraClasses: 'fa-fw'
    });
  }

  // --- Popup propre (avec "Non fourni" quand il manque des infos) ---
  function buildDesc(p) {
    let base = (p.description || '').trim();
    base = base
      .replace(/Passez voir une sÃ©ance[^.]*\.?/gi, '')
      .replace(/On en parle au bord du terrain[^.]*\.?/gi, '')
      .replace(/Le plus simple\s*\?[^.]*\.?/gi, '')
      .replace(/Ambiance simple, sÃ©rieuse[^.]*\.?/gi, '')
      .trim();
    if (!base) {
      base = 'EntraÃ®nements et pratique selon niveaux â€” infos ci-dessous.';
    }
    return base;
  }

  function popupHtml(p) {
    const telVal = (p["TÃ©lÃ©phone"] && p["TÃ©lÃ©phone"].toString().trim()) ? p["TÃ©lÃ©phone"].toString().trim() : "Non fourni";
    const mailVal = (p.Email && p.Email.toString().trim()) ? p.Email.toString().trim() : "Non fourni";
    const siteVal = (p.Site && p.Site.toString().trim()) ? p.Site.toString().trim() : "Non fourni";
    const adr = p.Adresse ? `<div>ğŸ“ ${p.Adresse}</div>` : "";
    const desc = buildDesc(p);
    const siteLinks = siteVal !== "Non fourni"
      ? siteVal.split(';').map(u => u.trim()).filter(Boolean).map(u => `<a target="_blank" href="${u.startsWith('http')?u:'https://'+u}">${u}</a>`).join(' &middot; ')
      : "Non fourni";
    return `<div><strong>${p.name || p.Nom || 'Sans nom'}</strong>
      <div style="margin:6px 0;">${desc}</div>
      ${adr}
      <div>ğŸ“ ${telVal}</div>
      <div>âœ‰ï¸ ${mailVal}</div>
      <div>ğŸŒ ${siteLinks}</div>
    </div>`;
  }

  // --- Construction de la carte ---
  const map = L.map('map');
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19, attribution: '&copy; OpenStreetMap contributors' }).addTo(map);

  const cluster = L.markerClusterGroup({
    spiderfyOnMaxZoom: true,
    showCoverageOnHover: false,
    zoomToBoundsOnClick: true,
    disableClusteringAtZoom: 18,
    maxClusterRadius: 50
  });
  map.addLayer(cluster);

  // Build all markers with categories
  const ALL = data.features.map(f => {
    const p = f.properties;
    const coords = f.geometry.coordinates;
    const latlng = [coords[1], coords[0]];
    const cat = categoryFor(p);
    const m = L.marker(latlng, { icon: iconForCategory(cat) });
    m._props = p;
    m._cat = cat;
    m.bindPopup(popupHtml(p));
    return m;
  });

  // --- Filtres catÃ©gories dynamiques + lÃ©gende ---
  const cats = [...new Set(ALL.map(m => m._cat))].sort();
  const filtersEl = document.getElementById('filters');
  const legendEl = document.getElementById('legend');
  const state = {};
  cats.forEach(cat => {
    state[cat] = true;
    // checkbox
    const id = 'f-' + cat.replace(/[^a-z0-9]+/gi,'-');
    const cb = document.createElement('input'); cb.type='checkbox'; cb.className='cat'; cb.id=id; cb.value=cat; cb.checked=true;
    const lb = document.createElement('label'); lb.htmlFor=id; lb.textContent=cat;
    const wrap = document.createElement('span'); wrap.appendChild(cb); wrap.appendChild(document.createTextNode(' ')); wrap.appendChild(lb);
    filtersEl.appendChild(wrap);
    // legend dot
    const item = document.createElement('div'); item.className='item';
    const dot = document.createElement('span'); dot.className='marker-dot';
    const color = (catStyles[cat]||catStyles["Autres"]).color;
    const colorsMap = {red:'#d33', darkred:'#991b1b', orange:'#ea580c', green:'#16a34a', darkgreen:'#166534', blue:'#2563eb', purple:'#7c3aed', darkpurple:'#5b21b6', cadetblue:'#2dd4bf', black:'#111827', gray:'#6b7280'};
    dot.style.background = colorsMap[color] || '#6b7280';
    item.appendChild(dot);
    const lab = document.createElement('span'); lab.textContent = ' ' + cat;
    item.appendChild(lab);
    legendEl.appendChild(item);
  });

  function draw() {
    cluster.clearLayers();
    const q = document.getElementById('search').value.trim().toLowerCase();
    const active = new Set(
      Array.from(document.querySelectorAll('#filters input.cat:checked')).map(x => x.value)
    );
    const filt = ALL.filter(m => {
      const p = m._props;
      const hay = (p.name + ' ' + (p.Nom||'') + ' ' + (p.description||'') + ' ' + (p.Adresse||'') + ' ' + (p["TÃ©lÃ©phone"]||'') + ' ' + (p.Email||'')).toLowerCase();
      const okQ = !q || hay.includes(q);
      const okC = active.has(m._cat);
      return okQ && okC;
    });
    filt.forEach(m => cluster.addLayer(m));
    try { map.fitBounds(cluster.getBounds().pad(0.1)); } catch(e) {}
    document.getElementById('count').textContent = filt.length + ' rÃ©sultat(s)';
  }

  document.getElementById('search').addEventListener('input', draw);
  document.querySelectorAll('#filters input.cat').forEach(cb => cb.addEventListener('change', draw));

  draw();
  </script>
</body>
</html>
